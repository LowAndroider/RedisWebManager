<%
layout("/container.html") { %>

<div class="layui-col-md12">
    <ul class="layui-nav" lay-filter="">
        <li class="layui-nav-item">
            <button type="button" class="layui-btn" onclick="openAddConn()">添加新的连接信息</button>
        </li>
    </ul>
</div>

<div class="layui-col-md6">
    <div class="layui-card">
        <div class="layui-card-header">连接列表</div>
        <div id="test1" class=""></div>
    </div>
</div>

<script>
    var layer;
    var tree;
    var util;
    layui.use('layer', function(){
        layer = layui.layer;
    });

    function openAddConn() {
        layer.open({
            type: 2,
            title: "连接信息",
            area: ['451px', '270px'],
            content: "addConn"
        });
    }

    layui.use(['tree', 'util'], function(){
        tree = layui.tree;
        util = layui.util;
    });

    $.ajax({
        type: 'get',
        url: "/redisConnList",
        async: true,
        success: function (d) {
            //常规用法
            tree.render({
                elem: '#test1' //默认是点击节点可进行收缩
                ,data: d.data
                ,click: clickFun
                ,id: 'redisConnList'
            });
        }
    });

    function clickFun(obj) {

    }

</script>
<% } %>
